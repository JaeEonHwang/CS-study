# TEXT와 BLOB

## 문자열 : TEXT
### Q. VARCHAR와 TEXT의 차이?
- VARCHAR
  - 행 내부(메모리)에 데이터를 직접 저장
  - 65535까지 max size limit를 걸 수 있음
  - 인덱스를 걸 수 있음
- TEXT
  - TEXT 행 외부(디스크)에 저장, 행 내부에는 포인터가 저장
  - max size limit를 못검
  - 인덱스를 걸 때 크기제한을 해야 걸 수 있음

### 결론
- VARCHAR : 중간정도의 문자열, 메모리에서 읽으므로 읽기성능이 TEXT보다 좋음.
- TEXT : 매우 큰 문자열, 디스크에서 읽기 때문에 읽기성능이 좋지 않아 검색과 수정이 빈번하지 않은 데이터를 저장할 때 쓰임


## 이진데이터 : BLOB
- BLOB 타입은 이진 데이터(Binary Object)를 저장하는 데 사용되는 데이터 타입
- 주로 이미지, 오디오, 비디오 등을 저장하며 다음과 같이 파일을 직접 데이터에 삽입해서 씀
- 그러나 보통은 이 타입을 쓰지 않고 이미지호스팅서비스(s3)를 이용해서 해당 서비스에 올리고 해당 url을 varchar 타입으로 저장하는게 일반적


### Q. 왜 blob을 많이 안쓸까?
- 성능문제 : 데이터베이스에 큰 이진 파일(예: 이미지)을 저장하면 데이터베이스의 성능이 저하될 수 있음. 처리하고 관리하는데도 오래걸리고 이 때문에 만약 백업을 한다고 가정할 때 데이터베이스 백업 및 복구 시간도 증가하게 됨
- 보안문제 : 데이터베이스에 이미지를 저장하면, 이 이미지에 대한 접근을 제어하고 관리하는 것이 더 복잡해짐. 이는 보안 정책을 적용하고 유지하기 어렵게 만들 수 있음