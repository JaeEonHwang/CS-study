## 3.5 가상메모리와 swaping, pagefault, thrashing
  * 가상 메모리(virtual memory)는 OS에서 사용되는 메모리 관리 기법의 하나로 컴퓨터가 실제로 이용 가능한 메모리 자원(실제 주소, physical address)을 추상화하여 이를 사용하는 사용자들에게 매우 큰 메모리로 보이게 만드는 것을 말한다.<br>
    <br>
    <참고>
    * 가상 주소는 MMU와 페이지 테이블(page table)에 의해 실제 주소로 변환됨
    * 페이지: 가상 메모리를 사용하는 최소 크기 단위
    * 프레임: 실제 디스크나 메모리를 사용하는 최소 크기 단위
  
### Page Fault & Swaping
  * 가상 메모리는 작은 메모리를 매우 큰 메모리로 보이게끔 하는 것이기 때문에 참조하려는 메모리 영역이 실제에는 없을 수 있음
  * 가상 메모리는 있는데 실제 메모리에 없을 때 **페이지 폴트**가 발생
  * 메모리(RAM)의 당장 사용하지 않는 영역을 하드디스크로 옮기고 하드디스크의 일부분을 "마치 메모리처럼" 불러와 쓰는 것을 "스와핑" (스와핑 할 때 쓰는 알고리즘: Page Swapping Algorithm)

### Thrashing(스레싱)
  * 메모리의 페이지 폴트율이 높은 것을 의미
  * 스레싱은 메모리에 너무 많은 프로세스가 동시에 올라가게 되면 스와핑이 많이 일어나서 발생
  * 페이지 폴트가 일어나면 CPU 이용률은 낮아진다. CPU 이용률이 낮아지면 운영체제는 CPU의 가용성을 높이기 위해 더 많은 프로세스를 메모리에 올림
  * 이러한 악순환이 반복되어 스레싱이 발생함
  * 하드웨어적으로 해결하는 방법: 메모리를 늘리거나 HDD를 사용한다면 HDD를 SSD로 바꿈
  * 운영체제에서 해결하는 방법은 작업세트와 PFF가 있음

#### 작업세트
  * 작업 세트(working set)는 프로세스의 과거 사용이력을 기반으로 많이 사용하는 페이지 집합을 만들어 한꺼번에 미리 메모리에 로드하는 것

#### PFF
  * PFF(Page Fault Frequency)는 페이지 폴트 빈도를 조절하는 방법으로 상한선과 하한선을 만들고 상한선에 도달한다면 프레임을 늘리고 하한선에 도달한다면 프레임을 줄이는 방법

### 가상 메모리의 필요성
#### 주기억장치의 효율적 관리(스와핑)
  * 하드디스크를 주기억장치에 대한 캐시로 설정하여 당장 사용하는 영역만 유지하고 쓰지 않는 데이터는 하드디스크로 옮긴 뒤, 필요할 때만 램에 데이터를 불러와 올리고 다시 사용하지 않으면 하드디스크로 내림으로써 램을 효과적으로 관리함

#### 메모리 관리의 단순화
  * 각 프로세스마다 가상메모리의 통일된 주소 공간을 배정할 수 있으므로 메모리 관리가 단순해짐

#### 메모리 용량 및 안정성 보장
  * 한정된 공간의 램이 아닌 거의 무한한 가상 메모리 공간을 배정함으로써 프로세스들끼리 메모리 침범이 일어날 여지를 크게 줄이게 됨