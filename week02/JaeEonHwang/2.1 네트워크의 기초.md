# 2. 네트워크
## 2.1 네트워크의 기초
* 네트워크: 노드와 링크가 서로 연결되어 있으며 리소스를 공융하는 집합
  * 노드: 서버, 라우터, 스위치 등 네트워크 장치
  * 링크(엣지): 유선 또는 무선과 같은 연결매체 (와이파이나 LAN)
### 2.1.1 처리량과 지연 시간
* 트래픽: 특정 시점에 링크 내에 '흐르는' 데이터의 양
  * ex) 서버에 저장된 파일을 클라이언트(사용자)가 다운로드 할 때 발생되는 데이터의 누적량
  * 트래픽이 많아졌다. = 흐르는 데이터가 많아졌다.
  * 처리량이 많아졌다. = 처리되는 트래픽이 많아졌다.
  * 단위: bps(bits per second)
* 처리량: 링크 내에서 성공적으로 전달된 데이터의 양을 말하며, 어느 정도의 트래픽을 처리했는지를 나타냄
  * 많은 트래픽을 처리한다. = 많은 처리량을 가진다.
  * 단위: bps(bits pers second)
  * 트래픽, 네트워크 장치 간의 대역폭, 네트워크 중간에 발생하는 에러, 장치의 하드웨어 스펙에 영향을 받음.
* 대역폭(bandwidth): 주어진 시간동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수(최대 트래픽)
  * 단위: bps(bits per second)
  * 대략적인 최대동시접속자수의 척도가 됨 
* RTT(Round Trip Time: 왕복 지연시간): 신호를 전달하고 해당 신호의 수신확인에 걸린 시간을 더한 값이자 어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간
### 2.1.2 네트워크 토폴로지와 병목 현상
* 네트워크 토폴로지: 노드와 링크가 구성되는 방식
1. 버스 토폴로지
* 특징
  * 하나의 회선에 여러 개의 노드
  * 노드 추가, 삭제 쉬움
  * 설치 비용 적음
* 장점
  * 소규모 네트워크를 구축하기 쉬움
  * 한 노드에 장애가 발생해도 다른 노드에 영향 없음
* 단점
  * 메인 링크에 많은 트래픽이 생기면 정체현상 발생 가능성이 높음(패킷 손실율 높음)
  * 메인 링크가 망가지면 큰 문제
2. 스타 토폴로지
* 특징
  * 중앙에 있는 노드를 기반으로 연결된 형태
  * 노드 추가, 삭제가 쉬움
* 장점
  * 중앙 노드가 아닌 한 노드에 장애가 발생해도 다른 노드에 영향이 없음
  * 안정성이 높음. 중앙 노드가 아닌 한 노드에 침해가 발생했을 때 다른 노드로 확장하기가 어렵기 때문. 다른 노드로 가려면 중앙노드를 무조건 거쳐야 하고, 보통의 스타 토폴로지는 중앙노드의 방화벽 등을 깐깐하게 해놓음
  * 한 링크에 문제가 생겨도 해당 부분만 영향을 받고 나머지 부분은 정상적으로 작동함
* 단점
  * 중앙노드 에러시 큰 문제
3. 트리 토폴로지
* 특징
  * 트리형태(계층적 트리라고도 함.)
  * 노드 추가, 삭제 난이도 보통(리프노드를 기반으로 확장은 용이하지만, 다른 노드는 어려움)
  * 버스 토폴로지와 스타토폴로지의 하이브리드 형태
* 장점
  * 노드 확장이 용이(주로 리프노드로 확장함)
  * 리프노드의 에러는 나머지 부분에 영향을 미치지 않음
* 단점
  * 특정 노드 트래픽 집중시 하위노드에 영향
  * 루트노드에 문제가 생기면 전체네트워크에 큰 문제 
* 백본케이블: 여러 소형 네트워크들을 묶어 대규모 파이프라인을 통해 극도로 높은 대역폭으로 다른 네트워크들의 집합과 연결되는 네트워크(대규모 패킷 통신망)
4. 링형 토폴로지
* 특징
  * 고리 형태
  * 노드 추가, 삭제가 쉬움
* 장점
  * 노드 수가 많아져도 데이터 손실이 없음.
  * 토큰을 기반으로 연속적으로 노드를 거치며, 통신권한 여부를 따지고 해당 권한이 없는 노드는 데이터를 전달받지 않음
* 단점
  * 링크 또는 노드가 하나만 에러가 발생해도 네트워크에 영향
  * 토큰이 없는 노드는 통신에 참여를 못하며 데이터 공유가 안 됨
5. 메시 토폴로지
* 특징
  * 그물망 형태
  * 노드 추가, 삭제가 어려움
  * 풀(full)메시 토폴로지의 경우 n * (n-1) / 2 개의 회선이 필요함
* 장점
  * 안정성이 높음. 한 노드에 장애가 나도 다른 노드에 영향을 미치지 않음
  * 트래픽을 분산할 수 있음
* 단점
  * 회선이 비효율적으로 많기 때문에 구축비용이 고가
---
* 토폴로지의 필요성: 병목현상을 해결하는 척도
* 병목(bottleneck)현상: 트래픽에 의해 데이터 흐름이 제한되는 상황. 핫스팟이라고도 함
---
1. 유니캐스트
* 1:1 통신
* ex) HTTP 통신
* 가장 일반적인 네트워크 전송 형태
2. 멀티캐스트
* 1:N 통신
* 특정 그룹의 노드들에만 데이터를 전달
3. 브로드캐스트
* 1:N 통신
* 연결되어있는 모든 노드에 데이터를 전달
* ex) ARP
### 2.1.3 네트워크 분류
1. LAN
* local area network, 근거리 통신망
* MAN, WAN 보다 높은 안정성과 속도
* 소규모 네트워크(집, 사무실)
* 보통 허브나 스위치로 연결됨
* 하나의 논리적 주소인 IP를 기반으로 여러 개의 물리적 주소인 MAC 주소로 구별하는 네트워크
2. MAN
* metroplitan area network, 대도시 통신망
* 2개 이상의 LAN이 연결되어 구성
* 라우터, 브리지 등으로 연결됨
3. WAN
* wide area network, 광역 통신망
* 국가와 국가와의 통신망, 인터넷이라고돋 함
* 많은 라우터를 거쳐 다른 국가와도 연결됨
### 2.1.4 네트워크 성능 분석 명령어
1. ping
* Packet INternet Groper
* 네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송하는 명령어
* 패킷 수신 상태, 도달 시간, 네트워크 연결 유무를 알 수 있음
* ICMP 프로토콜을 통해 전달(ICMP나 traceroute를 차단하는 대상에게는 ping 테스트 불가)
2. netstat
* 접속되어 있는 서비스들의 네트워크 상태를 표시하는 데 사용
* 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등의 리스트를 보여줌
* 서비스의 포트가 열려 있는지 확인할 때 사용
3. nslookup
* DNS에 관련된 내용을 확인하기 위한 명령어
* 특정 도메인에 매핑된 IP를 확인하기 위해 사용
4. tracert(윈도우) / traceroute(리눅스)
* 목적지 노드까지의 네트워크 경로를 확인
5. 그 외
* ftp, tcpdump
* 분석 프로그램: wireshark, netmon
### 2.1.5 네트워크 프로토콜 표준화
* 다른 장치들끼리 데이터를 주고 받기 위해 설정된 공통된 인터페이스
* IEEE or IETF라는 표준화 단체에서 정함